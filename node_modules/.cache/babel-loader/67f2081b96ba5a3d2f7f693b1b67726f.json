{"ast":null,"code":"var _jsxFileName = \"/home/egidio17/Escritorio/tarea3/src/components/ConectarWebsocket.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport Graficos from './Graficos';\nimport SellsBuys from './SellsBuys';\nimport Exchanges from './Exchanges';\nconst protocolo = \"wss://\";\nconst servidor = \"le-18262636.bitzonte.com\";\nconst ruta = \"/stocks\";\nconst socket = io(protocolo + servidor, {\n  path: ruta\n});\n\nconst ConectarWebsocket = () => {\n  const [booleano, setBooleano] = useState(true);\n  const [data_update, setData_update] = useState([]);\n  const [data_sell, setData_sell] = useState([]);\n  const [data_buy, setData_buy] = useState([]);\n  const [data_exchanges, setData_exchanges] = useState([]);\n  const [data_stocks, setData_stocks] = useState([]);\n\n  const cambio_bool = () => {\n    setBooleano(!booleano);\n\n    if (!booleano) {\n      socket.connect();\n    }\n\n    if (booleano) {\n      socket.disconnect();\n    }\n  };\n\n  function selec() {\n    setSeleccionada(document.getElementById(\"lista\").value);\n  }\n\n  useEffect(() => {\n    //if(booleano){\n    socket.on('UPDATE', info => {\n      var llega = {\n        time: info.time,\n        value: info.value,\n        ticker: info.ticker\n      };\n      setData_update(data_update => data_update.concat(llega));\n    }); //        if(!booleano){\n    //        socket.on('UPDATE', info =>{\n    //          var llega = {time: info.time, value: info.value, ticker : info.ticker};\n    //        setData_update(data_update => data_update.concat(llega));\n    //  })};\n\n    socket.on('SELL', info => {\n      var llega = {\n        time: info.time,\n        volume: info.volume,\n        ticker: info.ticker\n      };\n      setData_sell(data_sell => data_sell.concat(llega));\n    });\n    socket.on('BUY', info => {\n      var llega = {\n        time: info.time,\n        volume: info.volume,\n        ticker: info.ticker\n      };\n      setData_buy(data_buy => data_buy.concat(llega));\n    });\n    socket.emit(\"EXCHANGES\", () => {});\n    socket.on('EXCHANGES', info => {\n      setData_exchanges(data_exchanges => info);\n    });\n    socket.emit('STOCKS', () => {});\n    socket.on('STOCKS', info => {\n      for (var i = 0; i < info.length; i++) {\n        setData_stocks(data_stocks => data_stocks.concat(info[i]));\n      }\n    });\n  }, []);\n  const mercados = Object.keys(data_exchanges);\n  var menu = \"\";\n  var value = \"\";\n  const [seleccionada, setSeleccionada] = useState('AAPL'); //\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Tu booleano esta en \", booleano.toString()), /*#__PURE__*/React.createElement(\"button\", {\n    align: \"center\",\n    onClick: () => cambio_bool(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Cambia booleano\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"\\n\\n\"), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"lista\",\n    onChange: () => selec(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, data_stocks.map(d => /*#__PURE__*/React.createElement(\"option\", {\n    value: d.ticker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 41\n    }\n  }, \" \", d.ticker))), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"h: \", seleccionada), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, data_stocks.map(d => d.ticker === seleccionada ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 70\n    }\n  }, /*#__PURE__*/React.createElement(Graficos, {\n    data: d,\n    data2: data_update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 75\n    }\n  }), \" \") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 126\n    }\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"\\n\\n\"), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-striped table-dark\",\n    align: \"center\",\n    border: \"5\",\n    frame: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 19\n    }\n  }, \"Compa\\xF1\\xEDa\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, \"Ticker\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, \"Pa\\xEDs\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, \"Volumen Transado\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, \"M\\xE1ximo\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, \"M\\xEDnimo\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"\\xDAltimo Precio\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, \"Variaci\\xF3n Porcentual\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, data_stocks.map(d => /*#__PURE__*/React.createElement(SellsBuys, {\n    data: d,\n    data2: data_sell,\n    data3: data_buy,\n    data4: data_update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 49\n    }\n  })))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"\\n\\n\"), /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table table-striped table-dark\",\n    align: \"center\",\n    border: \"5\",\n    frame: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, \"Nombre Mercado\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"Volumen Compra\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, \"Volumen Venta\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }, \"Volumen Total\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, \"Cantidad Acciones\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }, \"Participaci\\xF3n Mercado\")))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"\\n\\n\"));\n};\n\nexport default ConectarWebsocket;","map":{"version":3,"sources":["/home/egidio17/Escritorio/tarea3/src/components/ConectarWebsocket.jsx"],"names":["React","useState","useEffect","io","Graficos","SellsBuys","Exchanges","protocolo","servidor","ruta","socket","path","ConectarWebsocket","booleano","setBooleano","data_update","setData_update","data_sell","setData_sell","data_buy","setData_buy","data_exchanges","setData_exchanges","data_stocks","setData_stocks","cambio_bool","connect","disconnect","selec","setSeleccionada","document","getElementById","value","on","info","llega","time","ticker","concat","volume","emit","i","length","mercados","Object","keys","menu","seleccionada","toString","map","d"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport io from 'socket.io-client';\nimport Graficos from './Graficos';\nimport SellsBuys from './SellsBuys';\nimport Exchanges from './Exchanges';\n\n\nconst protocolo = \"wss://\";\nconst servidor = \"le-18262636.bitzonte.com\";\nconst ruta = \"/stocks\";\n\nconst socket = io(protocolo + servidor , {\n  path: ruta\n  });\n\n\nconst ConectarWebsocket = () => {\n\n    const [booleano, setBooleano] = useState(true);\n    const [data_update, setData_update] = useState([]);\n    const [data_sell, setData_sell] = useState([]);\n    const [data_buy, setData_buy] = useState([]);\n    const [data_exchanges, setData_exchanges] = useState([]);\n    const [data_stocks, setData_stocks] = useState([]);\n\n\n\n    const cambio_bool = () => {\n      setBooleano(!booleano);\n      if(!booleano){\n        socket.connect();\n      }\n      if(booleano){\n        socket.disconnect();\n      }\n    }\n\n\n    function selec() {\n      setSeleccionada(document.getElementById(\"lista\").value);\n    }\n\n\n    useEffect(() => {\n        //if(booleano){\n        socket.on('UPDATE', info =>{\n            var llega = {time: info.time, value: info.value, ticker : info.ticker};\n            setData_update(data_update => data_update.concat(llega));\n        });\n//        if(!booleano){\n  //        socket.on('UPDATE', info =>{\n    //          var llega = {time: info.time, value: info.value, ticker : info.ticker};\n      //        setData_update(data_update => data_update.concat(llega));\n        //  })};\n        socket.on('SELL', info =>{\n            var llega = {time: info.time, volume: info.volume, ticker : info.ticker};\n            setData_sell(data_sell => data_sell.concat(llega));\n        });\n        socket.on('BUY', info =>{\n            var llega = {time: info.time, volume: info.volume, ticker : info.ticker};\n            setData_buy(data_buy => data_buy.concat(llega));\n        });\n        socket.emit(\"EXCHANGES\", ()=> {\n        });\n        socket.on('EXCHANGES', info =>{\n            setData_exchanges(data_exchanges => info);\n        });\n        socket.emit('STOCKS', () => {\n        } )\n        socket.on('STOCKS', info => { \n          for (var i = 0; i < info.length; i++) {\n            setData_stocks(data_stocks => data_stocks.concat(info[i]));\n          }\n        });\n    }, []);\n\n    const mercados = Object.keys(data_exchanges);\n    var menu = \"\";\n    var value = \"\";\n    \n    const [seleccionada, setSeleccionada] = useState('AAPL');\n\n    //\n\n    return(\n        <div>\n            <p>Tu booleano esta en {booleano.toString()}</p>\n            <button align=\"center\" onClick = {() => cambio_bool()}>Cambia booleano</button>\n            <p>{\"\\n\\n\"}</p>\n            <select id=\"lista\" onChange = {() => selec()}>\n                {data_stocks.map((d) => <option value = {d.ticker}> {d.ticker}</option>)}\n            </select>\n            <h1>h: {seleccionada}</h1>\n\n\n\n\n            <div>\n                {data_stocks.map((d) => d.ticker === seleccionada ? (<div><Graficos data={d} data2={data_update}/> </div>) : <div></div>)}\n            </div>\n            <p>{\"\\n\\n\"}</p>\n            <table class=\"table table-striped table-dark\" align=\"center\" border=\"5\" frame=\"box\" >\n              <thead>\n                <tr>\n                  <th scope=\"col\">Compañía</th>\n                  <th scope=\"col\">Ticker</th>\n                  <th scope=\"col\">País</th>\n                  <th scope=\"col\">Volumen Transado</th>\n                  <th scope=\"col\">Máximo</th>\n                  <th scope=\"col\">Mínimo</th>\n                  <th scope=\"col\">Último Precio</th>\n                  <th scope=\"col\">Variación Porcentual</th>\n                </tr>\n              </thead>\n                <tbody>{data_stocks.map((d) => (<SellsBuys data={d} data2={data_sell} data3={data_buy} data4={data_update}/>))}</tbody>\n            </table>\n            <p>{\"\\n\\n\"}</p>\n            <table class=\"table table-striped table-dark\" align=\"center\" border=\"5\" frame=\"box\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">Nombre Mercado</th>\n                  <th scope=\"col\">Volumen Compra</th>\n                  <th scope=\"col\">Volumen Venta</th>\n                  <th scope=\"col\">Volumen Total</th>\n                  <th scope=\"col\">Cantidad Acciones</th>\n                  <th scope=\"col\">Participación Mercado</th>\n                </tr>\n              </thead>\n\n\n\n            </table> \n            <p>{\"\\n\\n\"}</p> \n        </div>\n    )\n\n}\n\nexport default ConectarWebsocket;"]},"metadata":{},"sourceType":"module"}